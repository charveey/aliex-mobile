(self.AMP=self.AMP||[]).push({m:0,v:"2109032350000",n:"amp-lightbox",ev:"0.1",l:true,f:function(AMP,_){"use strict";var f;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function m(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ca(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object")})()}ca(this);"function"===typeof Symbol&&Symbol("x");var n;if("function"==typeof Object.setPrototypeOf)n=Object.setPrototypeOf;else{var p;a:{var da={a:!0},q={};try{q.__proto__=da;p=q.a;break a}catch(a){}p=!1}n=p?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var r=n;function t(a,b){a.prototype=ba(b.prototype);a.prototype.constructor=a;if(r)r(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Ra=b.prototype}var u;function ea(){var a=this;this.promise=new Promise((function(b,c){a.resolve=b;a.reject=c}))}function v(a){return a?Array.prototype.slice.call(a):[]}var fa=Array.isArray;function ha(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c,a))return c;return-1}var ia=Object.prototype.hasOwnProperty;function w(a){return a||{}}function x(){this.D=null}f=x.prototype;f.add=function(a){var b=this;this.D||(this.D=[]);this.D.push(a);return function(){b.remove(a)}};f.remove=function(a){if(this.D){var b=this.D;a=b.indexOf(a);-1!=a&&b.splice(a,1)}};f.removeAll=function(){this.D&&(this.D.length=0)};f.fire=function(a){if(this.D)for(var b=m(this.D),c=b.next();!c.done;c=b.next())c=c.value,c(a)};f.getHandlerCount=function(){var a,b;return null!=(b=null==(a=this.D)?void 0:a.length)?b:0};var y;function ja(a){if(void 0!==y)return y;y=!1;try{var b={get passive(){y=!0;return!1}};a.addEventListener("test-options",null,b);a.removeEventListener("test-options",null,b)}catch(c){}return y}function ka(a){for(var b=null,c="",d=m(arguments),e=d.next();!e.done;e=d.next())if(e=e.value,e instanceof Error&&!b){var g=b=void 0;if(null==(g=Object.getOwnPropertyDescriptor(e,"message"))?0:g.writable)b=e;else{g=e.stack;var h=Error(e.message);for(b in e)h[b]=e[b];h.stack=g;b=h}}else c&&(c+=" "),c+=e;b?c&&(b.message=c+": "+b.message):b=Error(c);return b}function la(a){var b,c;null==(c=(b=self).__AMP_REPORT_ERROR)||c.call(b,a)}function ma(a){var b=ka.apply(null,arguments);setTimeout((function(){la(b);throw b}))}function z(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];try{a.apply(null,c)}catch(e){ma(e)}}function na(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=ka.apply(null,c);c.name=a||c.name;la(c)}function oa(a,b){function c(){d=0;var h=500-(a.Date.now()-e);if(0<h)d=a.setTimeout(c,h);else{var l=g;g=null;b.apply(null,l)}}var d=0,e=0,g=null;return function(h){for(var l=[],k=0;k<arguments.length;++k)l[k-0]=arguments[k];e=a.Date.now();g=l;d||(d=a.setTimeout(c,500))}}var pa=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function qa(a,b){var c=b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return c}}function ra(a){a=(a||self).location;a=a.originalHash||a.hash;var b=Object.create(null);if(a)for(var c;c=pa.exec(a);){var d=qa(c[1],c[1]);c=c[2]?qa(c[2].replace(/\+/g," "),c[2]):"";b[d]=c}return b}var A=self.AMP_CONFIG||{},sa=("string"==typeof A.cdnProxyRegex?new RegExp(A.cdnProxyRegex):A.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function ta(a){if(self.document&&self.document.head&&(!self.location||!sa.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}A.cdnUrl||ta("runtime-host");A.geoApiUrl||ta("amp-geo-api");var B="";function ua(a){a=a||self;if(a.__AMP_MODE)var b=a.__AMP_MODE;else{var c=ra(a)||ra(a);c=["1","actions","amp","amp4ads","amp4email"].includes(c.development)||!!a.AMP_DEV_MODE;B||(B=(null==(b=a.AMP_CONFIG)?void 0:b.v)||"012109032350000");b=a.__AMP_MODE={localDev:!1,development:c,esm:!1,test:!1,rtvVersion:B}}return b}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var D=self.__AMP_LOG;function wa(){throw Error("failed to call initLogConstructor")}function xa(){D.user||(D.user=wa());return D.user}function E(){return D.dev||(D.dev=wa())}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function ya(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}function za(a){return a.closest?a.closest(".i-amphtml-fie"):ya(a,(function(b){var c=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector;return c?c.call(b,".i-amphtml-fie"):!1}))}function Aa(a,b){var c=[];for(a=a.firstElementChild;a;a=a.nextElementSibling)b(a)&&c.push(a);return c}function Ba(a){return Aa(a,(function(b){if("string"==typeof b)var c=b;else b.nodeType===Node.ELEMENT_NODE&&(c=b.tagName);b=c&&c.toLowerCase().startsWith("i-")?!0:b.nodeType!==Node.ELEMENT_NODE?!1:b.hasAttribute("placeholder")||b.hasAttribute("fallback")||b.hasAttribute("overflow");return!b}))}function F(a){try{a.focus()}catch(b){}}function G(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return H(a,b)}function I(a,b){var c=J(a);c=Ca(c);return H(c,b)}function Da(a){a=J(a);a=Ca(a);return Ea(a,"action")?H(a,"action"):null}function J(a){return a.nodeType?G((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function Ca(a){a=J(a);return a.isSingleDoc()?a.win:a}function H(a,b){Ea(a,b);var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Ea(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}function K(a){return I(a,"owners")}function L(a,b){var c=this;this.Aa=H(a,"timer");this.Ha=b;this.Ga=0;this.S=-1;this.fa=0;this.la=!1;this.Ca=function(){c.ba()}}L.prototype.isPending=function(){return-1!=this.S};L.prototype.schedule=function(a){var b=a||this.Ga;this.la&&10>b&&(b=10);var c=Date.now()+b;return!this.isPending()||-10>c-this.fa?(this.cancel(),this.fa=c,this.S=this.Aa.delay(this.Ca,b),!0):!1};L.prototype.ba=function(){this.S=-1;this.fa=0;this.la=!0;this.Ha();this.la=!1};L.prototype.cancel=function(){this.isPending()&&(this.Aa.cancel(this.S),this.S=-1)};function Fa(a,b,c,d){this.type=a;this.data=b;this.time=c;this.event=d}function Ga(a,b,c){this.F=a;this.h=[];this.N=[];this.B=[];this.j=[];this.o=null;this.Oa=b;this.Pa=c;this.ca=!1;this.ba=new L(a.ownerDocument.defaultView,this.va.bind(this));this.xa=new x;this.R=Object.create(null);this.ta=this.Na.bind(this);this.ra=this.La.bind(this);this.sa=this.Ma.bind(this);this.qa=this.Ka.bind(this);var d=ja(a.ownerDocument.defaultView);this.F.addEventListener("touchstart",this.ta,d?{passive:!0}:!1);this.F.addEventListener("touchend",this.ra);this.F.addEventListener("touchmove",this.sa,d?{passive:!0}:!1);this.F.addEventListener("touchcancel",this.qa);this.ha=!1}function Ha(a){var b=void 0===b?!1:b;var c=void 0===c?!1:c;var d=a.__AMP_Gestures;d||(d=new Ga(a,b,c),a.__AMP_Gestures=d);return d}f=Ga.prototype;f.cleanup=function(){this.F.removeEventListener("touchstart",this.ta);this.F.removeEventListener("touchend",this.ra);this.F.removeEventListener("touchmove",this.sa);this.F.removeEventListener("touchcancel",this.qa);delete this.F.__AMP_Gestures;this.ba.cancel()};f.onGesture=function(a,b){var c=new a(this),d=c.getType(),e=this.R[d];e||(this.h.push(c),e=new x,this.R[d]=e);return e.add(b)};f.removeGesture=function(a){var b=new a(this).getType();if(a=this.R[b]){a.removeAll();a=ha(this.h,(function(c){return c.getType()==b}));if(0>a)return!1;this.h.splice(a,1);this.B.splice(a,1);this.j.splice(a,1);this.N.splice(a,1);delete this.R[b];return!0}return!1};f.onPointerDown=function(a){return this.xa.add(a)};f.Na=function(a){var b=Date.now();this.ca=!1;this.xa.fire(a);for(var c=0;c<this.h.length;c++)if(!this.B[c]&&(this.j[c]&&this.j[c]<b&&M(this,c),this.h[c].onTouchStart(a))){var d=c;this.N[d]=!0;this.j[d]=0}N(this,a)};f.Ma=function(a){for(var b=Date.now(),c=0;c<this.h.length;c++)this.N[c]&&(this.j[c]&&this.j[c]<b?M(this,c):this.h[c].onTouchMove(a)||M(this,c));N(this,a)};f.La=function(a){for(var b=Date.now(),c=0;c<this.h.length;c++)if(this.N[c])if(this.j[c]&&this.j[c]<b)M(this,c);else{this.h[c].onTouchEnd(a);var d=!this.j[c],e=this.j[c]<b;this.o!=this.h[c]&&(d||e)&&M(this,c)}N(this,a)};f.Ka=function(a){for(var b=0;b<this.h.length;b++){var c=b;this.B[c]=0;M(this,c)}N(this,a)};function N(a,b){var c=!!a.o||a.ca;a.ca=!1;if(!c)for(var d=Date.now(),e=0;e<a.h.length;e++)if(a.B[e]||a.j[e]&&a.j[e]>=d){c=!0;break}c?(b.stopPropagation(),a.Oa||b.preventDefault()):a.Pa&&b.stopPropagation();a.ha&&(a.ha=!1,a.va())}f.va=function(){for(var a=Date.now(),b=-1,c=0;c<this.h.length;c++)if(!this.B[c])this.j[c]&&this.j[c]<a&&M(this,c);else if(-1==b||this.B[c]>this.B[b])b=c;if(-1!=b){var d=0;for(c=0;c<this.h.length;c++)!this.B[c]&&this.N[c]&&(d=Math.max(d,this.j[c]-a));if(2>d){a=b;c=this.h[a];for(var e=0;e<this.h.length;e++)if(e!=a){var g=e;this.B[g]=0;M(this,g)}this.B[a]=0;this.j[a]=0;this.o=c;c.acceptStart()}else this.ba.schedule(d)}};function M(a,b){a.N[b]=!1;a.j[b]=0;a.B[b]||a.h[b].acceptCancel()}function O(a,b){this.Qa=a;this.aa=b}f=O.prototype;f.getType=function(){return this.Qa};f.signalReady=function(a){var b=this.aa;if(b.o)this.acceptCancel();else{for(var c=Date.now(),d=0;d<b.h.length;d++)b.h[d]==this&&(b.B[d]=c+a,b.j[d]=0);b.ha=!0}};f.signalPending=function(a){var b=this.aa;if(b.o)this.acceptCancel();else for(var c=Date.now(),d=0;d<b.h.length;d++)b.h[d]==this&&(b.j[d]=c+a)};f.signalEnd=function(){var a=this.aa;a.o==this&&(a.o=null,a.ca=!0)};f.signalEmit=function(a,b){var c=this.aa.R[this.getType()];c&&c.fire(new Fa(this.getType(),a,Date.now(),b))};f.acceptStart=function(){};f.acceptCancel=function(){};f.onTouchStart=function(){return!1};f.onTouchMove=function(){return!1};f.onTouchEnd=function(){};function Ia(a,b,c){1>b&&(b=1);var d=.5+Math.min(b/33.34,.5);return a/b*d+c*(1-d)}function P(a,b,c,d){O.call(this,a,b);this.wa=c;this.Ba=d;this.o=!1;this.pa=this.oa=this.ia=this.$=this.za=this.ka=this.ja=this.K=this.J=this.M=this.L=0}t(P,O);f=P.prototype;f.onTouchStart=function(a){a=a.touches;return this.o&&a&&1<a.length?!0:a&&1==a.length?(this.za=Date.now(),this.L=a[0].clientX,this.M=a[0].clientY,!0):!1};f.onTouchMove=function(a){var b=a.touches;if(b&&1<=b.length){var c=b[0];b=c.clientX;c=c.clientY;this.J=b;this.K=c;if(this.o)Q(this,!1,!1,a);else if(a=Math.abs(b-this.L),b=Math.abs(c-this.M),this.wa&&this.Ba)(8<=a||8<=b)&&this.signalReady(-10);else if(this.wa){if(8<=a&&a>b)this.signalReady(-10);else if(8<=b)return!1}else if(this.Ba){if(8<=b&&b>a)this.signalReady(-10);else if(8<=a)return!1}else return!1;return!0}return!1};f.onTouchEnd=function(a){var b=a.touches;b&&0==b.length&&this.o&&(this.o=!1,Q(this,!1,!0,a),this.signalEnd())};f.acceptStart=function(){this.o=!0;this.ja=this.L;this.ka=this.M;this.ia=this.za;this.L=this.J;this.M=this.K;Q(this,!0,!1,null)};f.acceptCancel=function(){this.o=!1};function Q(a,b,c,d){a.$=Date.now();var e=a.$-a.ia;if(!c&&4<e||c&&16<e){var g=Ia(a.J-a.ja,e,a.oa),h=Ia(a.K-a.ka,e,a.pa);if(!c||32<e||0!=g||0!=h)a.oa=1e-4<Math.abs(g)?g:0,a.pa=1e-4<Math.abs(h)?h:0;a.ja=a.J;a.ka=a.K;a.ia=a.$}a.signalEmit({first:b,last:c,time:a.$,deltaX:a.J-a.L,deltaY:a.K-a.M,startX:a.L,startY:a.M,lastX:a.J,lastY:a.K,velocityX:a.oa,velocityY:a.pa},d)}function Ja(a){P.call(this,"swipe-xy",a,!0,!0)}t(Ja,P);var R,Ka="Webkit webkit Moz moz ms O o".split(" "),La={getPropertyPriority:function(){return""},getPropertyValue:function(){return""}};function Ma(a,b,c){if(b.startsWith("--"))return b;R||(R=Object.create(null));var d=R[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var g=0;g<Ka.length;g++){var h=Ka[g]+e;if(void 0!==a[h]){e=h;break a}}e=""}var l=e;void 0!==a[l]&&(d=l)}c||(R[b]=d)}return d}function Na(a,b){a=a.style;for(var c in b)a.setProperty(Ma(a,c),String(b[c]),"important")}function S(a,b,c){(b=Ma(a.style,b,void 0))&&(b.startsWith("--")?a.style.setProperty(b,c):a.style[b]=c)}function T(a,b){for(var c in b)S(a,c,b[c])}function Oa(a){var b=!0;void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")}function Pa(a){for(var b=["transition"],c=0;c<b.length;c++)S(a,b[c],null)}function U(a){"display"in a&&na("STYLE","`display` style detected. You must use toggle instead.");return a}var W;new Set(["c","v","a","ad"]);function Qa(a){return a.classList.contains("i-amphtml-fie")||!!za(a)}function Ra(a){return a.unmount()}function Sa(a){a=fa(a)?a:[a];for(var b=0;b<a.length;b++)Ta(a[b],!1,!0,Ra)}function Ta(a,b,c,d){if(b&&a.classList.contains("i-amphtml-element")&&(z(d,a),!c)){var e=a.getPlaceholder();e&&Ta(e,!0,!1,d);return}var g=a.getElementsByClassName("i-amphtml-element");a=null;for(b=0;b<g.length;b++){var h=g[b];if(c)z(d,h);else{a=a||[];for(var l=!1,k=0;k<a.length;k++)if(a[k].contains(h)){l=!0;break}l||(a.push(h),z(d,h))}}}var Ua=['<i-amphtml-ad-close-header role=button tabindex=0 aria-label="Close Ad"><div>Ad</div><i-amphtml-ad-close-button class=amp-ad-close-button></i-amphtml-ad-close-button></i-amphtml-ad-close-header>'],X={"fade-in":{openStyle:w({opacity:1}),closedStyle:w({opacity:0}),durationSeconds:.1},"fly-in-bottom":{openStyle:w({transform:"translate(0, 0)"}),closedStyle:w({transform:"translate(0, 100%)"}),durationSeconds:.2},"fly-in-top":{openStyle:w({transform:"translate(0, 0)"}),closedStyle:w({transform:"translate(0, -100%)"}),durationSeconds:.2}};function Y(a){var b=AMP.BaseElement.call(this,a)||this;b.na=null;b.C=null;b.P=b.win.document;b.T=null;b.ea=-1;b.U=!1;b.X=null;b.W=null;b.Z=null;b.Y=null;b.ga=null;b.I=!1;b.G=0;b.da=0;b.ma=null;b.V=(a.getAttribute("animate-in")||"fade-in").toLowerCase();b.A=null;b.H=null;b.O=null;var c=G(b.win,"platform");b.Ia=c.isIos();b.ua=oa(b.win,(function(){var d=xa().assertElement(b.C,"E#19457 this.container_"),e=K(b.element);e.scheduleLayout(b.element,d);e.scheduleResume(b.element,d)}));return b}t(Y,AMP.BaseElement);f=Y.prototype;f.buildCallback=function(){var a=this;this.user().assert(ia.call(X,this.V),"Invalid `animate-in` value %s",this.V);this.element.classList.add("i-amphtml-overlay");this.T=Da(this.element);Va(this);this.registerDefaultAction((function(b){return Wa(a,b.trust,b.caller)}),"open");this.registerAction("close",(function(b){return a.close(b.trust)}));this.T.addToAllowlist("AMP-LIGHTBOX",["open","close"],["email"])};function Xa(a){v(a.element.getElementsByClassName("i-amphtml-element")).forEach((function(b){K(a.element).setOwner(b,a.element)}))}function Ya(a){if(!a.C){var b=a.element;a.I=b.hasAttribute("scrollable");var c=Ba(a.element);a.C=b.ownerDocument.createElement("div");a.I||a.C.classList.add("i-amphtml-fill-content");b.appendChild(a.C);c.forEach((function(d){a.C.appendChild(d)}));a.I&&(Xa(a),b.classList.add("i-amphtml-scrollable"),b.addEventListener("amp:dom-update",(function(){Xa(a);Z(a,a.G)})),b.addEventListener("scroll",a.ya.bind(a)));if(!a.I)Ha(b).onGesture(Ja,(function(){}));Za(a)}}f.layoutCallback=function(){u||(u=Promise.resolve(void 0));var a=u;return a};function Wa(a,b,c){if(!a.U){Ya(a);a.X=a.Fa.bind(a);a.P.documentElement.addEventListener("keydown",a.X);a.Z=a.Ja.bind(a);a.P.documentElement.addEventListener("focusin",a.Z);c&&(a.ga=c);var d=new ea,e=d.promise,g=d.resolve;a.getViewport().enterLightboxMode(a.element,e).then((function(){return $a(a,g,b)}))}}f.mutatedAttributesCallback=function(a){var b=a.open;void 0!==b&&(b?Wa(this,2,document.activeElement):this.close(2))};function ab(a){var b=a.C.querySelector("[autofocus]");b&&F(b)}function $a(a,b,c){function d(){a.ua();b()}var e=a.element,g=X[a.V],h=g.closedStyle,l=g.durationSeconds,k=g.openStyle,C=Object.keys(k).map((function(V){return V+" "+l+"s ease-in"})).join(",");a.da++;a.I&&S(e,"webkitOverflowScrolling","touch");S(e,"transition",C);T(e,U(h));Oa(e);a.mutateElement((function(){e.scrollTop=0}));ab(a);a.mutateElement((function(){T(e,U(k))}));g=a.C;a.I&&(a.ya(),Z(a,a.G));e.addEventListener("transitionend",d);e.addEventListener("animationend",d);a.setAsContainer();var va=K(a.element);va.scheduleLayout(a.element,g);va.scheduleResume(a.element,g);bb(a,"lightboxOpen",c);I(a.getAmpDoc(),"history").push((function(){return a.close(c)})).then((function(V){a.ea=V}));cb(a);db(a);eb(a);a.U=!0}function Za(a){var b=a.element;if(null!=b.getAttribute("close-button")){var c=b.ownerDocument||b;W&&W.ownerDocument===c||(W=c.createElement("div"));c=W;c.innerHTML=Ua[0];var d=c.firstElementChild;c.removeChild(d);a.A=d;b.insertBefore(a.A,a.C)}}function cb(a){if(a.A){a.W=a.Ea.bind(a);a.A.addEventListener("keydown",a.W);var b;a.measureMutateElement((function(){b=a.A.getBoundingClientRect().height}),(function(){a.A.classList.add("amp-ad-close-header");Na(a.C,{"margin-top":b+"px","min-height":"calc(100vh - "+b+"px)"})}))}}function eb(a){if(a.O||a.A)a.Y=a.Da.bind(a),a.H.addEventListener("click",a.Y)}function fb(a){if(a.O||a.A)a.H.removeEventListener("click",a.Y),a.Y=null,a.A&&(a.A.removeEventListener("keydown",a.W),a.W=null)}f.Da=function(){this.close(3)};f.Fa=function(a){"Escape"==a.key&&(a.preventDefault(),this.close(3))};f.Ea=function(a){"Enter"==a.key&&(a.preventDefault(),this.close(3))};f.close=function(a){var b=this;this.U&&(this.I&&S(this.element,"webkitOverflowScrolling",""),this.getViewport().leaveLightboxMode(this.element).then((function(){return gb(b,a)})))};function gb(a,b){function c(){e==a.da&&(a.collapse(),a.ua())}var d=a.element,e=++a.da;hb(a)?(Pa(d),c()):(d.addEventListener("transitionend",c),d.addEventListener("animationend",c));T(d,U(X[a.V].closedStyle));-1!=a.ea&&I(a.getAmpDoc(),"history").pop(a.ea);a.P.documentElement.removeEventListener("keydown",a.X);a.X=null;a.P.documentElement.removeEventListener("focusin",a.Z);a.Z=null;fb(a);a.removeAsContainer();Sa(a.element);K(a.element).schedulePause(a.element,a.C);a.U=!1;bb(a,"lightboxClose",b);a.ga&&F(a.ga)}function hb(a){return"inabox"==ua(a.win).runtime||Qa(a.element)}f.Ja=function(){this.element.contains(document.activeElement)||this.close(3)};function db(a){if(!a.element.contains(document.activeElement)){a:if(a.H)var b=a.H;else if(a.A)b=a.A;else{b=a.element;for(var c=b.querySelectorAll("[on]"),d=0;d<c.length;d++){var e=c[d];if(a.T.hasResolvableActionForTarget(e,"tap",b,e.parentElement)){b=e;break a}}b=void 0}a.H=b;a.H||(b=a.element.getAttribute("data-close-button-aria-label")||"Close the modal",c=a.P.createElement("button"),c.textContent=b,c.classList.add("i-amphtml-screen-reader"),c.tabIndex=-1,a.O=c,a.element.insertBefore(a.O,a.element.firstChild),a.H=a.O);F(a.H)}}f.ya=function(){var a=this.element.scrollTop;this.Ia&&(0==a?this.element.scrollTop=1:this.element.scrollHeight==a+this.element.offsetHeight&&(this.element.scrollTop=a-1));this.G=a;null===this.ma&&ib(this,a)};function ib(a,b){a.ma=H(a.win,"timer").delay((function(){if(30>Math.abs(b-a.G)){E().fine("amp-lightbox","slow scrolling: %s - %s",b,a.G);a.ma=null;var c=a.G;E().fine("amp-lightbox","update_");Z(a,c);a.G=c}else E().fine("amp-lightbox","fast scrolling: %s - %s",b,a.G),ib(a,a.G)}),100)}function Z(a,b){var c=[];jb(a,b,(function(d){c.push(d);K(a.element).scheduleLayout(a.element,d)}))}function jb(a,b,c){a.na||(a.na={width:a.element.clientWidth,height:a.element.clientHeight});for(var d=a.na.height,e=v(a.element.getElementsByClassName("i-amphtml-element")),g=0;g<e.length;g++){for(var h=e[g],l=0,k=h;k&&a.element.contains(k);k=k.offsetParent)l+=k.offsetTop;var C=2*d;l+h.offsetHeight>=b-C&&l<=b+C&&c(h)}}function Va(a){var b=a.win;Qa(a.element)&&kb(b,b.document.body)}function bb(a,b,c){var d=a.win;var e="amp-lightbox."+b;var g=w({}),h={detail:g};Object.assign(h,void 0);"function"==typeof d.CustomEvent?e=new d.CustomEvent(e,h):(d=d.document.createEvent("CustomEvent"),d.initCustomEvent(e,!!h.bubbles,!!h.cancelable,g),e=d);a.T.trigger(a.element,b,e,c)}function kb(a,b){var c={},d=G(a,"ampdoc").getAmpDoc(b);I(d,"mutator").measureMutateElement(b,(function(){c.alreadyTransparent="rgba(0, 0, 0, 0)"==(a.getComputedStyle(b)||La)["background-color"]}),(function(){c.alreadyTransparent||xa().warn("amp-lightbox","The background of the <body> element has been forced to transparent. If you need to set background, use an intermediate container.");Na(b,{background:"transparent"})}))}"inabox"==ua().runtime&&kb(window,document.body);AMP.registerElement("amp-lightbox",Y,"amp-lightbox{display:none;position:fixed!important;z-index:1000;top:0!important;left:0!important;bottom:0!important;right:0!important}amp-lightbox[scrollable]{overflow-y:auto!important;overflow-x:hidden!important}i-amphtml-ad-close-header{height:60px!important;display:block!important;visibility:visible!important;opacity:0;position:fixed!important;top:0!important;left:0!important;right:0!important;z-index:1000!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:right!important;justify-content:right!important;transition:opacity 0.1s ease-in}[animate-in=fly-in-bottom]>i-amphtml-ad-close-header,[animate-in=fly-in-top]>i-amphtml-ad-close-header{transition-delay:0.2s}.amp-ad-close-header{opacity:1!important;box-sizing:border-box;padding:5px;line-height:40px;background-color:#000;color:#fff;font-family:Helvetica,sans-serif;font-size:12px;cursor:pointer}.amp-ad-close-header>:first-child{margin-left:auto!important;pointer-events:none!important}.amp-ad-close-button{display:block!important;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff'%3E%3Cpath d='M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\") no-repeat;background-position:50%;width:40px;height:40px;pointer-events:none!important;border-radius:40px;margin-left:5px}.amp-ad-close-header:active>.amp-ad-close-button{background-color:hsla(0,0%,100%,0.3)}\n/*# sourceURL=/extensions/amp-lightbox/0.1/amp-lightbox.css*/")}});//# sourceMappingURL=amp-lightbox-0.1.js.map